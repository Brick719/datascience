# 국내 여행로그 데이터 분석 및 소비금액 예측 모델

## 📋 프로젝트 개요

여행객의 특성(연령대, 성별, 동반자 수, 체류기간)과 지역 정보를 바탕으로 **방문객 1인당 소비금액**을 예측하는 머신러닝 모델을 개발하는 프로젝트입니다.

### 주요 목표
- 여행객 데이터 탐색적 분석 (EDA)
- 소비금액에 영향을 미치는 주요 요인 파악
- 선형 회귀 및 결정 트리 모델 구축 및 비교
- 모델 성능 평가 및 개선 방향 제시

---

## 📊 데이터셋

- **출처**: AI Hub 국내여행로그데이터 (2023년)
- **규모**: 2,560명의 여행객 정보
- **지역**: 수도권 (서울, 강원, 경기 중심)
- **기간**: 2023년 봄~가을 (여름 데이터 편중)

### 데이터 구조 (ERD)
```
여행객 Master (tn_traveller_master)
    ↓ 1:1
여행 정보 (tn_travel)
    ↓ 1:N
소비내역 (활동/사전/숙박/이동)
```

### 주요 테이블
1. **여행객 정보**: 연령, 성별, 동반자 수, 거주지 등
2. **여행 정보**: 출발일, 종료일, 목적지 등
3. **소비내역**: 활동, 사전예약, 숙박, 이동수단 소비금액

---

## 🗂️ 프로젝트 구조

```
datascience/
│
├── tourism_spending_analysis.ipynb  # 메인 분석 노트북
├── Readme.md                        # 프로젝트 설명서 (본 문서)
│
└── lableddata/
   ├── erd.png                      # 데이터베이스 ERD
   └── Training/                    # 학습 데이터
       ├── tn_traveller_master_여행객 Master_E.csv
       ├── tn_travel_여행_E.csv
       ├── tn_activity_consume_his_활동소비내역_E.csv
       ├── tn_adv_consume_his_사전소비내역_E.csv
       ├── tn_lodge_consume_his_숙박소비내역_E.csv
       └── tn_mvmn_consume_his_이동수단소비내역_E.csv
```

---

## 📓 노트북 구성

`tourism_spending_analysis.ipynb`는 다음과 같이 구성되어 있습니다:

### 1. 라이브러리 및 데이터 로드
- 필요한 Python 라이브러리 임포트
- 6개 CSV 파일 로드 및 관계 확인

### 2. 데이터 구조 (ERD) 시각화
- ERD 이미지 표시
- 테이블 간 관계 설명
- 샘플 데이터 확인

### 3. 데이터 전처리 및 통합
- **3.1**: 소비내역 집계 (활동/사전/숙박/이동)
- **3.2**: 데이터 병합 및 결측치 확인
- **3.3**: 결측치 처리 (0원으로 대체)
- **3.4**: 타겟 변수 생성 (1인당 소비금액 = 총 소비 / 인원)
- **3.5**: 파생 변수 생성 (체류기간, 계절, 목적지 등)

### 4. 탐색적 데이터 분석 (EDA)

#### 4.1 방문객 특성
- **시각화 1**: 연령대별 여행객 분포
- **시각화 2**: 성별 분포
- **시각화 3**: 동반자 수 분포
- **시각화 4**: 체류 기간 분포

#### 4.2 지역 및 시간 정보
- **시각화 5**: 목적지별 여행 건수
- **시각화 6**: 계절별 여행 건수

#### 4.3 타겟 변수: 1인당 소비금액
- **시각화 7**: 소비금액 분포 (히스토그램 + 박스플롯)
- **4.3.1**: 극단적 이상치 확인 및 제거 (500만원 초과)
- **시각화 8**: 이상치 제거 후 분포

#### 4.4 이변량 분석
- **시각화 9**: 연령대별 소비금액
- **시각화 10**: 체류기간 vs 소비금액 (평균선 포함)
- **시각화 11**: 상관관계 히트맵
- **시각화 12**: 계절별 소비금액
- **시각화 13**: 목적지별 소비금액

### 5. 예측 모델 개발

#### 5.1 데이터 준비
- 목적지/계절 원-핫 인코딩
- Train/Test 분할 (80/20)
- 입력 데이터 샘플 확인

#### 5.2 모델 학습

**옵션 A: 선형 회귀 (Linear Regression)**
- 성능 지표: RMSE, MAE, R²
- 회귀 계수 분석 (변수별 영향력)

**옵션 B: 결정 트리 (Decision Tree)**
- 성능 지표: RMSE, MAE, R²
- 피쳐 중요도 분석
- 트리 구조 시각화

#### 5.3 모델 비교 및 선택
- 성능 비교 표 및 그래프
- 모델 성능 분석
  - 현재 성능 수준
  - 성능이 낮은 이유
  - 개선 방향
  - 모델 선택 권장사항

#### 5.4 예측 vs 실제 비교
- 산점도 시각화
- 예측 정확도 확인

### 6. 결론 및 인사이트
- 데이터 특성 요약
- 주요 발견사항
- 모델 성능 평가
- 한계점 및 개선 방향

### 7. 부록: 추가 분석
- 소비 카테고리별 비중
- 샘플 예측 예시 (4가지 케이스)

---

## 📈 주요 결과

### 데이터 인사이트
- **여행객 특성**: 20-30대 여성이 전체의 약 70%
- **평균 체류기간**: 1.4일 (대부분 1박2일 이하)
- **평균 1인당 소비**: 110,244원 (이상치 제거 후)
- **인기 목적지**: 서울 (61.5%) > 강원 (30.9%) > 경기 (7.6%)

### 소비금액 영향 요인
1. **체류기간** (가장 중요): 1일 증가 시 +93,790원
2. **동반자 수**: 1명 증가 시 -12,750원 (1인당 소비 감소)
3. **목적지**: 강원이 서울보다 +46,850원 높음
4. **성별**: 여성이 남성보다 +1,176원 높음
5. **연령대**: 소비금액에 미미한 영향

### 모델 성능
| 모델 | RMSE (Test) | MAE (Test) | R² (Test) |
|------|-------------|------------|-----------|
| **선형 회귀** | 105,565원 | 61,672원 | **36.6%** ✅ |
| 결정 트리 | 107,165원 | 60,365원 | 34.7% |

- **권장 모델**: 선형 회귀 (근소하게 우수)
- **평균 예측 오차**: ±10만원
- **성능 평가**: 좋지 않음 (개선 필요)

---

## 🔍 주요 발견

### ✅ 성과
1. 체류기간이 소비금액에 가장 큰 영향 (피쳐 중요도 61%)
2. 강원 지역이 서울보다 평균 소비 47% 높음
3. 동반자 수가 많을수록 1인당 소비는 감소 (규모의 경제)

### ⚠️ 한계점
1. **낮은 R² (36.6%)**: 소비금액 변동의 63.4%를 설명하지 못함
2. **피쳐 부족**: 소득, 직업, 여행 목적 등 중요 변수 누락
3. **데이터 편중**: 여름 82.8%, 서울 61.5%로 편중
4. **제한된 지역**: 수도권 중심 (전국 데이터 필요)

### 💡 개선 방향
1. **피쳐 추가**: 직업, 교육수준, 여행 목적, 활동 유형
2. **모델 개선**: 랜덤 포레스트, XGBoost 등 앙상블 모델
3. **데이터 보강**: 사계절 균형, 전국 권역 확보

---

## 👥 팀원
- 2025031026_인공지능융합학과_59기_안상빈
- 신영재
- 2025512052_빅데이터융합학과_60기_이상원
---

## 📚 참고자료

- [AI Hub - 국내여행로그데이터](https://aihub.or.kr/)
- [Scikit-learn Documentation](https://scikit-learn.org/)
- [Pandas Documentation](https://pandas.pydata.org/)

---

## 📞 문의

프로젝트 관련 문의사항은 Github Issues를 통해 남겨주세요.

---

**Last Updated**: 2025-11-22
